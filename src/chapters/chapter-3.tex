\chapter{Rencana Penyelesaian Masalah}

\par Dalam mengadakan kompetisi \textit{competitive programming} diperlukan sebuah sistem \textit{online judge}. Sistem \textit{online judge} memerlukan dua buah komponen utama yaitu \textit{autograder} dan sistem manajemen kompetisi. Sistem manajemen kompetisi memberikan layanan yang berhubungan dengan kompetisi seperti melihat soal, mengirim jawaban, membuat klarifikasi, dan melihat \textit{scoreboard}. Sistem \textit{autograder} berfungsi untuk melakukan penilaian terhadap jawaban yang telah dikirim secara \textit{realtime}.

\section{Sistem Manajemen Kompetisi}

\par Sistem manajemen kompetisi memberikan layanan kepada peserta kompetisi dan juri untuk berinteraksi. Kebutuhan dari sistem manajemen kompetisi adalah sebagai berikut:

\begin{enumerate}
    \item Peserta dan juri dapat melihat soal.
    \item Peserta dapat mengirim jawaban.
    \item Sistem dapat menilai jawaban peserta.
    \item Peserta dapat mengirim klarifikasi soal.
    \item Juri dapat membuat pengumuman terkait kontes.
    \item Juri dapat menjawab klarifikasi peserta.
    \item Juri dapat mengubah soal.
    \item Peserta dan juri dapat melihat \textit{scoreboard}.
    \item Juri dapat membekukan \textit{scoreboard}.
    \item Peserta dapat melihat jawaban yang dikirim olehnya.
    \item Juri dapat melihat jawaban yang dikirim seluruh peserta.
    \item Juri dapat mengatur jawaban peserta untuk tidak dinilai.
\end{enumerate}

\par Masalah yang ingin diselesaikan dalam Tugas Akhir ini tidak terletak pada sistem manajemen kontes, melainkan pada sistem \textit{autograder}. Oleh karena itu, sistem manajemen kontes yang akan digunakan akan mengikuti sistem manajemen kontes yang saat ini banyak digunakan. Sistem manajemen kontes ini dapat dibagi menjadi beberapa komponen utama yaitu: pengguna, soal, jawaban, klarifikasi, scoreboard, dan grader.

\subsection{Komponen Pengguna}

\par Kompetisi \textit{competitive programming} ada yang bersifat tertutup dimana hanya peserta tertentu yang dapat mengikutinya dan terbuka dimana setiap orang dapat mengikutinya. Sistem \textit{online judge} yang populer saat ini umumnya dapat menangani kedua jenis kompetisi tersebut. Untuk memasuki kompetisi, peserta akan terlebih dahulu membuat akun di sistem \textit{online judge} tersebut. Peserta kemudian dapat memasuki kompetisi dengan cara melakukan \textit{login} pada sistem tersebut. Untuk melakukan pendaftaran peserta baru dan \textit{login}, sistem \textit{online judge} perlu memiliki komponen manajemen pengguna yang bertugas melakukan otentikasi dan otorisasi pengguna. Beberapa \textit{online judge} memiliki komponen manajemen pengguna yang memanfaatkan layanan otentikasi dan otorisasi dari pihak ketiga seperti Google, Facebook, Github, dan Auth0. Terdapat juga sistem \textit{online judge} yang melakukan otentikasi dan otorisasi tanpa menggunakan pihak ketiga, misalnya DomJudge dan Mooshak.

\par Komponen pengguna akan dibuat pada sistem manajemen kompetisi untuk melakukan otentikasi dan otorisasi pengguna. Untuk menyederhanakan persoalan, pada Tugas Akhir ini komponen pengguna yang bertugas melakukan otentikasi dan otorisasi pengguna tidak akan menggunakan layanan pihak ketiga. Beberapa \textit{software development framework} seperti Django, Express, dan Laravel memiliki kemampuan untuk menangani masalah ini dengan mudah. Informasi pengguna akan disimpan pada sistem basis data yang sudah tersedia. Otentikasi pengguna akan dilakukan dengan sederhana, yaitu menggunakan \textit{username} dan \textit{password}. Otorisasi pengguna juga akan dilakukan secara sederhana dengan sistem \textit{Role-based access control}.

\subsection{Komponen Soal}

\par Befungsi untuk melakukan manajemen soal. Peserta dan juri dapat melihat soal. Juri dapat mengubah soal.

\subsection{Komponen Jawaban}

\par Berfungsi untuk melakukan manajemen jawaban. Peserta dapat mengirim jawaban. Peserta dapat melihat jawabannya. Juri dapat melihat jawaban peserta. Juri dapat menginvalidate jawaban peserta.

\subsection{Komponen Klarifikasi}

\par Peserta dapat meminta klarifikasi soal. Juri dapat menjawab klarifikasi soal. Juri dapat membuat pengumuman.

\subsection{Komponen Scoreboard}

\par Peserta dan juri dapat melihat scoreboard. Juri dapat membekukan scoreboard.

\section{Arsitektur Sistem Autograder}

\par Sistem manajemen kontes memerlukan \textit{autograder} untuk menilai jawaban peserta kompetisi secara otomatis. Sistem \textit{online judge} yang sering digunakan saat ini menggunakan \textit{autograder} yang dipasang oleh juri pada beberapa komputer yang sudah disediakan oleh juri. Pada Tugas Akhir ini akan diciptakan \textit{autograder} yang dapat berjalan pada komputer peserta.

\subsection{Load Balancing}

\subsubsection{Push Based}

\par \textit{Autograder} menerima jawaban peserta kemudian mendistribusikannya secara rata ke worker yang tersedia.

\subsubsection{Pull Based}

\par \textit{Autograder} menyimpan jawaban peserta pada queue, worker yang sedang tersedia akan meminta jawaban dari queue untuk dinilai.

\subsubsection{Menggunakan Komputer Sendiri}

\par Peserta menggunakan komputernya sendiri untuk menilai jawabannya sendiri

\subsection{Evaluasi Jawaban Menggunakan Sandbox}

\par Akan menggunakan cgroup, chroot dan namespace untuk mengisolasi jawaban peserta.

\subsection{Pengukuran Waktu}

\par Tiap komputer dapat menjalankan program dengan waktu yang berbeda-beda, diperlukan pengukuran waktu sehingga proses penilaian menjadi adil.

\begin{itemize}
    \item Menggunakan jawaban juri sebagai kerangka acuan. Jawaban juri dijalankan terlebih dahulu kemudian dilihat waktunya.
    \item Menggunakan spesifikasi dari CPU.
    \item Melakukan benchmarking dengan mencobakan program test.
\end{itemize}

\subsection{Pengiriman Jawaban Peserta Ke Worker}

\par Jawaban yang dipertukarkan bisa diencrypt terlebih dahulu.
